<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CivicFix Portal Login</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <style> body { font-family: 'Inter', sans-serif; } </style>
</head>
<body class="bg-slate-100">
    <div id="main-container" class="min-h-screen flex flex-col items-center justify-center p-4">

        <!-- Initial Choice Page -->
        <div id="choice-page" class="w-full max-w-md">
             <div class="bg-white rounded-xl shadow-lg p-8 space-y-6 text-center">
                <div>
                    <div class="flex justify-center mb-4">
                        <div class="w-16 h-16 bg-[#611BF8] rounded-full flex items-center justify-center">
                            <span class="material-symbols-outlined text-white text-4xl">account_balance</span>
                        </div>
                    </div>
                    <h1 class="text-2xl font-bold text-gray-800">CivicFix Portal</h1>
                    <p class="text-gray-600 mt-2">Please select your login type.</p>
                </div>
                <div class="space-y-4">
                    <button id="show-citizen-login" class="w-full bg-[#611BF8] text-white py-3 px-4 rounded-lg font-semibold hover:bg-opacity-90 transition-all flex items-center justify-center gap-2">
                        <span class="material-symbols-outlined">person</span>
                        Citizen Login
                    </button>
                    <button id="show-admin-login" class="w-full bg-slate-700 text-white py-3 px-4 rounded-lg font-semibold hover:bg-slate-800 transition-all flex items-center justify-center gap-2">
                         <span class="material-symbols-outlined">admin_panel_settings</span>
                        Administrator Login
                    </button>
                </div>
                <div class="text-sm">
                    <p class="text-gray-600">Don't have an account? 
                        <a href="#" id="show-signup" class="font-medium text-[#611BF8] hover:underline">Sign up here</a>.
                    </p>
                </div>
            </div>
        </div>

        <!-- Citizen Login Page (hidden by default) -->
        <div id="citizen-login-page" class="w-full max-w-md hidden">
            <div class="bg-white rounded-xl shadow-lg p-8 space-y-6">
                 <button class="back-btn flex items-center text-sm text-gray-600 hover:text-gray-800">
                    <span class="material-symbols-outlined">arrow_back</span> Back
                </button>
                <div class="text-center">
                    <div class="flex justify-center mb-4">
                        <div class="w-16 h-16 bg-[#611BF8] rounded-full flex items-center justify-center">
                            <span class="material-symbols-outlined text-white text-4xl">person</span>
                        </div>
                    </div>
                    <h1 class="text-2xl font-bold text-gray-800">Citizen Login</h1>
                    <p class="text-gray-600 mt-2">Access the portal to report and track civic issues.</p>
                </div>
                <form id="citizen-login-form" class="space-y-4" novalidate>
                    <div>
                        <label for="citizen-email" class="text-sm font-medium text-gray-700">Email Address</label>
                        <input type="email" id="citizen-email" name="email" required class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#611BF8]">
                        <p id="citizen-email-error" class="text-red-500 text-xs mt-1 hidden">Please enter a valid email address.</p>
                    </div>
                    <div>
                        <label for="citizen-password" class="text-sm font-medium text-gray-700">Password</label>
                        <input type="password" id="citizen-password" name="password" required class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#611BF8]">
                        <p id="citizen-password-error" class="text-red-500 text-xs mt-1 hidden">Password is required.</p>
                    </div>
                    <button type="submit" class="w-full bg-[#611BF8] text-white py-2 px-4 rounded-lg font-semibold hover:bg-opacity-90 transition-all flex items-center justify-center gap-2">
                        Login
                        <span class="material-symbols-outlined">arrow_forward</span>
                    </button>
                </form>
            </div>
        </div>

        <!-- Administrator Login Page (hidden by default) -->
        <div id="admin-login-page" class="w-full max-w-md hidden">
             <div class="bg-white rounded-xl shadow-lg p-8 space-y-6">
                 <button class="back-btn flex items-center text-sm text-gray-600 hover:text-gray-800">
                    <span class="material-symbols-outlined">arrow_back</span> Back
                </button>
                <div class="text-center">
                    <div class="flex justify-center mb-4">
                        <div class="w-16 h-16 bg-slate-700 rounded-full flex items-center justify-center">
                            <span class="material-symbols-outlined text-white text-4xl">admin_panel_settings</span>
                        </div>
                    </div>
                    <h1 class="text-2xl font-bold text-gray-800">Administrator Login</h1>
                    <p class="text-gray-600 mt-2">Access the management dashboard.</p>
                </div>
                <form id="admin-login-form" class="space-y-4" novalidate>
                    <div>
                        <label for="admin-email" class="text-sm font-medium text-gray-700">Email Address</label>
                        <input type="email" id="admin-email" name="email" required class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-700">
                    </div>
                    <div>
                        <label for="admin-password" class="text-sm font-medium text-gray-700">Password</label>
                        <input type="password" id="admin-password" name="password" required class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-700">
                    </div>
                    <button type="submit" class="w-full bg-slate-700 text-white py-2 px-4 rounded-lg font-semibold hover:bg-slate-800 transition-all flex items-center justify-center gap-2">
                        Login
                        <span class="material-symbols-outlined">arrow_forward</span>
                    </button>
                </form>
            </div>
        </div>

        <!-- Citizen Signup Page (hidden by default) -->
        <div id="signup-page" class="w-full max-w-md hidden">
             <div class="bg-white rounded-xl shadow-lg p-8 space-y-6">
                 <button class="back-btn flex items-center text-sm text-gray-600 hover:text-gray-800">
                    <span class="material-symbols-outlined">arrow_back</span> Back
                </button>
                <div class="text-center">
                    <h1 class="text-2xl font-bold text-gray-800">Create Citizen Account</h1>
                    <p class="text-gray-600 mt-2">Join to help improve your community.</p>
                </div>
                <form id="signup-form" class="space-y-4" novalidate>
                    <div>
                        <label for="signup-name" class="text-sm font-medium text-gray-700">Full Name</label>
                        <input type="text" id="signup-name" name="name" required class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#611BF8]">
                    </div>
                     <div>
                        <label for="signup-email" class="text-sm font-medium text-gray-700">Email Address</label>
                        <input type="email" id="signup-email" name="email" required class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#611BF8]">
                    </div>
                    <div>
                        <label for="signup-password" class="text-sm font-medium text-gray-700">Password</label>
                        <input type="password" id="signup-password" name="password" required class="mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#611BF8]">
                    </div>
                    <button type="submit" class="w-full bg-[#611BF8] text-white py-2 px-4 rounded-lg font-semibold hover:bg-opacity-90 transition-all">
                        Create Account
                    </button>
                </form>
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const choicePage = document.getElementById('choice-page');
            const citizenLoginPage = document.getElementById('citizen-login-page');
            const adminLoginPage = document.getElementById('admin-login-page');
            const signupPage = document.getElementById('signup-page');
            
            const showCitizenLoginBtn = document.getElementById('show-citizen-login');
            const showAdminLoginBtn = document.getElementById('show-admin-login');
            const showSignupBtn = document.getElementById('show-signup');
            const backBtns = document.querySelectorAll('.back-btn');

            const citizenLoginForm = document.getElementById('citizen-login-form');
            const adminLoginForm = document.getElementById('admin-login-form');
            const signupForm = document.getElementById('signup-form');

            function showPage(page) {
                choicePage.classList.add('hidden');
                citizenLoginPage.classList.add('hidden');
                adminLoginPage.classList.add('hidden');
                signupPage.classList.add('hidden');
                page.classList.remove('hidden');
            }

            showCitizenLoginBtn.addEventListener('click', () => showPage(citizenLoginPage));
            showAdminLoginBtn.addEventListener('click', () => showPage(adminLoginPage));
            showSignupBtn.addEventListener('click', (e) => {
                e.preventDefault();
                showPage(signupPage);
            });
            backBtns.forEach(btn => btn.addEventListener('click', () => showPage(choicePage)));


            // --- Form Submission Logic ---
            citizenLoginForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const emailInput = document.getElementById('citizen-email');
                const passwordInput = document.getElementById('citizen-password');
                // Basic validation, in a real app this would be more robust
                if (emailInput.value && passwordInput.value) {
                    const emailPrefix = emailInput.value.match(/^[^@]+/);
                    const username = emailPrefix ? emailPrefix[0].charAt(0).toUpperCase() + emailPrefix[0].slice(1) : "User";
                    const user = { name: username, email: emailInput.value, isAdmin: false };
                    localStorage.setItem('civicFixUser', JSON.stringify(user));
                    window.location.href = 'index.html';
                }
            });

            adminLoginForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const emailInput = document.getElementById('admin-email');
                 if (emailInput.value) {
                    const user = { name: 'Admin', email: emailInput.value, isAdmin: true };
                    localStorage.setItem('civicFixUser', JSON.stringify(user));
                    // Future: redirect to admin dashboard, for now index is fine
                    window.location.href = 'dashboard.html'; 
                }
            });

            signupForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const nameInput = document.getElementById('signup-name');
                const emailInput = document.getElementById('signup-email');
                if (nameInput.value && emailInput.value) {
                     const user = { name: nameInput.value, email: emailInput.value, isAdmin: false };
                    localStorage.setItem('civicFixUser', JSON.stringify(user));
                    window.location.href = 'index.html';
                }
            });
        });
    </script>
</body>
</html>


